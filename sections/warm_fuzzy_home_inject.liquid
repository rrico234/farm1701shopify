<section class="warm-fuzzy-section warm-fuzzy-home-inject">
  <div class="page-width warm-fuzzy-home-inject__inner">
    <div class="warm-fuzzy-home-inject__grid">
      <div class="warm-fuzzy-home-inject__intro">
        {% if section.settings.eyebrow != blank %}
          <p class="warm-fuzzy-eyebrow">{{ section.settings.eyebrow }}</p>
        {% endif %}

        {% if section.settings.heading != blank %}
          <h2 class="warm-fuzzy-title">{{ section.settings.heading }}</h2>
        {% endif %}

        {% if section.settings.subheading != blank %}
          <div class="warm-fuzzy-subtitle rte">{{ section.settings.subheading }}</div>
        {% endif %}

        <p class="warm-fuzzy-teamline">
          Team: Rico, Alaina, Delaney, Dakota, & Dallas
        </p>

        <div class="warm-fuzzy-home-inject__buttons">
          {% if section.settings.primary_label != blank and section.settings.primary_link != blank %}
            <a class="button" href="{{ section.settings.primary_link }}">
              {{ section.settings.primary_label }}
            </a>
          {% endif %}

          {% if section.settings.secondary_label != blank and section.settings.secondary_link != blank %}
            <a class="button button--secondary" href="{{ section.settings.secondary_link }}">
              {{ section.settings.secondary_label }}
            </a>
          {% endif %}
        </div>
      </div>

      <div class="warm-fuzzy-home-inject__trust warm-fuzzy-card">
        {% if section.settings.trust_heading != blank %}
          <h3 class="h4">{{ section.settings.trust_heading }}</h3>
        {% endif %}

        <ul class="warm-fuzzy-trust-list" role="list">
          <li><strong>Ships via UPS</strong> with insulated packaging + cold packs.</li>
          <li><strong>Free local pickup</strong>: 1701 S Palm Blvd, Harlingen, TX 78552.</li>
          <li><strong>Hours</strong>: Mon–Thu 8:00am–5:00pm (closed 12:00pm–1:00pm).</li>
          <li><strong>Questions?</strong> Call (956) 200‑5084.</li>
        </ul>

        {% if section.settings.risk_reversal != blank %}
          <p class="warm-fuzzy-risk">{{ section.settings.risk_reversal }}</p>
        {% endif %}
      </div>
    </div>

    <div class="warm-fuzzy-home-inject__paths">
      {% if section.settings.paths_heading != blank %}
        <h3 class="h4">{{ section.settings.paths_heading }}</h3>
      {% endif %}

      <div class="warm-fuzzy-home-inject__cards">
        {% for block in section.blocks %}
          {% if block.type == 'path' %}
            <a class="warm-fuzzy-card warm-fuzzy-path-card"
               href="{{ block.settings.link }}"
               {{ block.shopify_attributes }}>
              <h4 class="warm-fuzzy-path-card__title">{{ block.settings.title }}</h4>
              <p class="warm-fuzzy-path-card__text">{{ block.settings.text }}</p>
              <span class="warm-fuzzy-path-card__cta">{{ block.settings.cta }}</span>
            </a>
          {% endif %}
        {% endfor %}
      </div>
    </div>

    {% assign testimonial_blocks = section.blocks | where: 'type', 'testimonial' %}
    {% if testimonial_blocks.size > 0 %}
      <div class="warm-fuzzy-home-inject__testimonials">
        {% if section.settings.testimonials_heading != blank %}
          <h3 class="h4">{{ section.settings.testimonials_heading }}</h3>
        {% endif %}

        <div class="warm-fuzzy-home-inject__testimonial-grid">
          {% for block in testimonial_blocks %}
            <div class="warm-fuzzy-card" {{ block.shopify_attributes }}>
              <p class="warm-fuzzy-quote">“{{ block.settings.quote }}”</p>
              <p class="warm-fuzzy-quote-meta">— {{ block.settings.name }}</p>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <div class="warm-fuzzy-home-inject__newsletter warm-fuzzy-card">
      {% if section.settings.newsletter_heading != blank %}
        <h3 class="h4">{{ section.settings.newsletter_heading }}</h3>
      {% endif %}

      {% if section.settings.newsletter_text != blank %}
        <p class="warm-fuzzy-muted">{{ section.settings.newsletter_text }}</p>
      {% endif %}

      {% form 'customer', id: 'WarmFuzzyNewsletter' %}
        <input type="hidden" name="contact[tags]" value="newsletter">
        <div class="warm-fuzzy-newsletter-form">
          <label class="visually-hidden" for="WarmFuzzyNewsletterEmail">Email</label>
          <input id="WarmFuzzyNewsletterEmail"
                 type="email"
                 name="contact[email]"
                 required
                 placeholder="Email address"
                 autocomplete="email">

          <button type="submit" class="button">
            {{ section.settings.newsletter_button_label }}
          </button>
        </div>
      {% endform %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Warm Fuzzy — Home Inject (Fallback)",
  "settings": [
    { "type": "text", "id": "eyebrow", "label": "Eyebrow", "default": "Texas-raised • Farm-to-table" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Farm1701 — Pasture-Raised, Texas Proud." },
    { "type": "richtext", "id": "subheading", "label": "Subheading", "default": "<p>Grass-fed beef, pasture-raised chicken & pork. Ship via UPS or pick up in Harlingen.</p>" },

    { "type": "text", "id": "primary_label", "label": "Primary button label", "default": "Start Here" },
    { "type": "url", "id": "primary_link", "label": "Primary button link" },

    { "type": "text", "id": "secondary_label", "label": "Secondary button label", "default": "Shipping & Pickup" },
    { "type": "url", "id": "secondary_link", "label": "Secondary button link" },

    { "type": "text", "id": "trust_heading", "label": "Trust heading", "default": "Shipping & pickup you can count on" },
    { "type": "text", "id": "risk_reversal", "label": "Risk reversal", "default": "If anything arrives warm or damaged, we’ll make it right." },

    { "type": "text", "id": "paths_heading", "label": "Paths heading", "default": "Start here" },
    { "type": "text", "id": "testimonials_heading", "label": "Testimonials heading", "default": "What families say" },

    { "type": "text", "id": "newsletter_heading", "label": "Newsletter heading", "default": "Get first dibs on harvest dates" },
    { "type": "text", "id": "newsletter_text", "label": "Newsletter text", "default": "Restock alerts, bundle drops, and local pickup reminders — no spam." },
    { "type": "text", "id": "newsletter_button_label", "label": "Newsletter button label", "default": "Join" }
  ],
  "blocks": [
    {
      "type": "path",
      "name": "Path card",
      "settings": [
        { "type": "text", "id": "title", "label": "Title", "default": "Shop Beef" },
        { "type": "text", "id": "text", "label": "Text", "default": "Grass-fed, pasture-raised beef — packed cold for delivery." },
        { "type": "text", "id": "cta", "label": "CTA text", "default": "Shop now →" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    },
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        { "type": "text", "id": "quote", "label": "Quote", "default": "Best steaks we’ve ever cooked at home. Shipping was smooth and everything arrived solid." },
        { "type": "text", "id": "name", "label": "Name", "default": "Verified customer" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Warm Fuzzy — Home Inject (Fallback)",
      "blocks": [
        { "type": "path", "settings": { "title": "Shop Beef", "text": "Grass-fed beef raised on pasture in Texas.", "cta": "Shop beef →" } },
        { "type": "path", "settings": { "title": "Shop Chicken", "text": "Pasture-raised chicken — clean, simple, and delicious.", "cta": "Shop chicken →" } },
        { "type": "path", "settings": { "title": "Shop Pork", "text": "Pasture-raised pork for weeknight wins and weekend grills.", "cta": "Shop pork →" } },

        { "type": "testimonial", "settings": { "quote": "Everything arrived cold and beautifully packed. We’ll be ordering again.", "name": "Verified customer" } },
        { "type": "testimonial", "settings": { "quote": "The pickup process was easy and friendly — great quality meat.", "name": "Local pickup customer" } },
        { "type": "testimonial", "settings": { "quote": "You can taste the difference. Great cuts, great service.", "name": "Verified customer" } }
      ]
    }
  ]
}
{% endschema %}
